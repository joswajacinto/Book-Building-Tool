{"ast":null,"code":"import _classCallCheck from \"/Users/sitepoint/Sitepoint_tool/Book-Building-Tool/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sitepoint/Sitepoint_tool/Book-Building-Tool/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sitepoint/Sitepoint_tool/Book-Building-Tool/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sitepoint/Sitepoint_tool/Book-Building-Tool/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sitepoint/Sitepoint_tool/Book-Building-Tool/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/sitepoint/Sitepoint_tool/Book-Building-Tool/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/sitepoint/Sitepoint_tool/Book-Building-Tool/src/App.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  width: 90%;\\n  margin: 0 auto;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport Title from \"./components/Title\";\nimport Forms from \"./components/Forms\";\nimport styled from \"styled-components\";\nimport TinyEditor from \"./components/TinyEditor\";\nimport Converter from \"./components/Converter\";\nimport { parse } from \"himalaya\";\nvar FormsBox = styled.div(_templateObject());\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      publisher: \"\",\n      html: \"\",\n      chapterName: \"\",\n      chapterNum: 0,\n      author: \"\" // nextChapterName: \"\"\n\n    };\n\n    _this.setChapterInfo = function (html, chapterName, chapterNum, author, // nextChapterName,\n    publisher) {\n      _this.setState({\n        html: html,\n        chapterName: chapterName,\n        chapterNum: chapterNum,\n        author: author,\n        // nextChapterName,\n        publisher: publisher\n      });\n    };\n\n    _this.handleEditorChange = function (e) {\n      console.log(\"Content was updated:\", e.target.getContent());\n    };\n\n    _this.handleConvetToJson = function (e) {\n      function removeEmptyNodes(nodes) {\n        return nodes.filter(function (node) {\n          if (node.type === \"element\") {\n            node.children = removeEmptyNodes(node.children);\n            return true;\n          }\n\n          return node.content.length;\n        });\n      }\n\n      function stripWhitespace(nodes) {\n        return nodes.map(function (node) {\n          if (node.type === \"element\") {\n            node.children = stripWhitespace(node.children);\n          } else {\n            node.content = node.content.trim();\n          }\n\n          return node;\n        });\n      }\n\n      function removeWhitespace(nodes) {\n        return removeEmptyNodes(stripWhitespace(nodes));\n      }\n\n      var html = _this.state.html;\n      var json = parse(html);\n      removeWhitespace(json);\n      console.log(\"ðŸ‘‰\", json);\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      console.log(this.state);\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Title, {\n        version: \"1.0.0v\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(FormsBox, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Forms, {\n        setChapterInfo: this.setChapterInfo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(TinyEditor, {\n        state: this.state,\n        handleEditorChange: this.handleEditorChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      })), React.createElement(Converter, {\n        handleConvetToJson: this.handleConvetToJson,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/sitepoint/Sitepoint_tool/Book-Building-Tool/src/App.js"],"names":["React","Component","Title","Forms","styled","TinyEditor","Converter","parse","FormsBox","div","App","state","publisher","html","chapterName","chapterNum","author","setChapterInfo","setState","handleEditorChange","e","console","log","target","getContent","handleConvetToJson","removeEmptyNodes","nodes","filter","node","type","children","content","length","stripWhitespace","map","trim","removeWhitespace","json"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Title from \"./components/Title\";\nimport Forms from \"./components/Forms\";\nimport styled from \"styled-components\";\nimport TinyEditor from \"./components/TinyEditor\";\nimport Converter from \"./components/Converter\";\nimport { parse } from \"himalaya\";\n\nconst FormsBox = styled.div`\n  display: flex;\n  width: 90%;\n  margin: 0 auto;\n`;\n\nclass App extends Component {\n  state = {\n    publisher: \"\",\n    html: \"\",\n    chapterName: \"\",\n    chapterNum: 0,\n    author: \"\"\n    // nextChapterName: \"\"\n  };\n\n  setChapterInfo = (\n    html,\n    chapterName,\n    chapterNum,\n    author,\n    // nextChapterName,\n    publisher\n  ) => {\n    this.setState({\n      html,\n      chapterName,\n      chapterNum,\n      author,\n      // nextChapterName,\n      publisher\n    });\n  };\n\n  handleEditorChange = e => {\n    console.log(\"Content was updated:\", e.target.getContent());\n  };\n\n  handleConvetToJson = e => {\n    function removeEmptyNodes(nodes) {\n      return nodes.filter(node => {\n        if (node.type === \"element\") {\n          node.children = removeEmptyNodes(node.children);\n          return true;\n        }\n        return node.content.length;\n      });\n    }\n\n    function stripWhitespace(nodes) {\n      return nodes.map(node => {\n        if (node.type === \"element\") {\n          node.children = stripWhitespace(node.children);\n        } else {\n          node.content = node.content.trim();\n        }\n        return node;\n      });\n    }\n\n    function removeWhitespace(nodes) {\n      return removeEmptyNodes(stripWhitespace(nodes));\n    }\n\n    const html = this.state.html;\n    const json = parse(html);\n\n    removeWhitespace(json);\n\n    console.log(\"ðŸ‘‰\", json);\n  };\n\n  render() {\n    console.log(this.state);\n    return (\n      <div className=\"App\">\n        <Title version=\"1.0.0v\" />\n        <FormsBox>\n          <Forms setChapterInfo={this.setChapterInfo} />\n          <TinyEditor\n            state={this.state}\n            handleEditorChange={this.handleEditorChange}\n          />\n        </FormsBox>\n\n        <Converter handleConvetToJson={this.handleConvetToJson} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}